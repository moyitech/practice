# Carbon Frontend - 碳管理系统前端

## 项目简介

这是碳管理系统的前端项目，基于Vue 2.x + Element UI开发，实现了用户注册、登录等功能。

## 技术栈

- **Vue.js**: 2.6.14
- **Vue Router**: 3.5.1
- **Element UI**: 2.15.14
- **Axios**: 1.6.0
- **Sass**: 1.69.5
- **js-md5**: 0.8.3

## 项目结构

```
frontend/
├── public/                    # 静态资源
│   └── index.html            # HTML模板
├── src/
│   ├── api/                  # API接口
│   │   └── user.js          # 用户相关接口
│   ├── assets/              # 资源文件
│   │   └── imgs/           # 图片资源
│   ├── router/              # 路由配置
│   │   └── index.js        # 路由主文件
│   ├── utils/               # 工具类
│   │   └── request.js      # Axios封装
│   ├── views/               # 页面组件
│   │   ├── login/          # 登录模块
│   │   │   ├── index.vue   # 登录页面
│   │   │   └── register.vue # 注册页面
│   │   └── Home.vue        # 首页
│   ├── App.vue              # 根组件
│   └── main.js              # 入口文件
├── .gitignore               # Git忽略文件
├── package.json             # 项目依赖
├── vue.config.js            # Vue配置文件
└── README.md                # 项目说明
```

## 功能模块

### 1. 用户注册
- **路由**: `/register`
- **功能**:
  - 用户名输入（自动验证是否已存在）
  - 手机号输入（格式验证）
  - 获取短信验证码（60秒倒计时）
  - 密码设置（6-16位）
  - 确认密码
  - 注册成功后跳转登录页

### 2. 用户登录
- **路由**: `/login`
- **功能**:
  - 用户名/密码登录
  - 记住登录状态（Token）
  - 登录成功跳转首页

### 3. 首页
- **路由**: `/home`
- **功能**:
  - 显示用户信息
  - 退出登录

## 安装依赖

```bash
npm install
```

## 开发运行

```bash
npm run serve
```

项目将在 `http://localhost:8080` 启动。

## 生产构建

```bash
npm run build
```

构建产物将生成在 `dist` 目录。

## API代理配置

项目配置了开发环境的API代理：

- `/authCenter` -> `http://localhost:9091` (认证服务)
- `/systemCenter` -> `http://localhost:9092` (系统服务)

## 环境要求

- Node.js >= 14.x
- npm >= 6.x

## 后端服务

确保以下后端服务已启动：

1. **carbon-auth** (端口9091) - 认证服务
   - 登录接口: POST /auth/login
   - 注册接口: POST /auth/register
   - 验证码接口: GET /auth/register/code/{phone}
   - 验证账户接口: GET /auth/verify/{accountName}

2. **carbon-system** (端口9092) - 系统服务
   - 首页数据接口: GET /dataPanel/home

## 使用说明

### 1. 注册新用户

1. 访问 `http://localhost:8080/#/register`
2. 输入用户名（系统会自动验证是否已存在）
3. 输入手机号
4. 点击"获取验证码"按钮
5. 输入收到的验证码
6. 设置密码（6-16位）
7. 确认密码
8. 点击"注册"按钮
9. 注册成功后会自动跳转到登录页

### 2. 登录系统

1. 访问 `http://localhost:8080/#/login`
2. 输入用户名和密码
3. 点击"登录"按钮
4. 登录成功后跳转到首页

### 3. 退出登录

在首页点击"退出登录"按钮即可。

## 注意事项

### 图片资源

项目需要以下图片资源（请放置在 `src/assets/imgs/` 目录）：

1. **login_logo.png** - 登录页面Logo（建议尺寸：134x36px）
2. **label1.jpg** - 输入框分隔线（建议尺寸：1x16px）

如果暂时没有图片，可以：
- 创建占位图片
- 或修改代码使用CSS替代

### 密码加密

注册和登录时，密码会使用MD5加密后传输到后端。

### Token管理

- 登录成功后，Token会保存在 localStorage 中
- 每次请求会自动在请求头中添加 Token
- 退出登录时会清除 Token

### 路由守卫

- 访问需要登录的页面时，会自动检查Token
- 未登录用户会被重定向到登录页
- 已登录用户访问登录/注册页会被重定向到首页

## 开发规范

### 代码风格

- 使用2空格缩进
- 组件名使用PascalCase
- 文件名使用kebab-case或PascalCase

### 提交规范

```
feat: 新功能
fix: 修复bug
docs: 文档更新
style: 代码格式调整
refactor: 重构
test: 测试相关
chore: 构建/工具链相关
```

## 常见问题

### 1. 无法获取验证码

- 检查后端服务是否启动
- 检查手机号格式是否正确
- 查看浏览器控制台错误信息

### 2. 注册失败

- 检查所有字段是否填写完整
- 确认两次密码输入一致
- 验证码是否正确

### 3. 登录失败

- 检查用户名和密码是否正确
- 确认账户是否已注册
- 查看后端日志

### 4. 图片无法显示

- 确认图片文件已放置在正确目录
- 检查图片文件名是否正确
- 可以暂时注释掉图片引用

## 后续开发

### 待实现功能

1. 忘记密码功能
2. 数据面板展示
3. 碳资产管理
4. 项目管理
5. 报表统计

### 优化建议

1. 添加表单验证规则
2. 优化错误提示
3. 添加加载动画
4. 响应式布局优化
5. 添加单元测试

## 联系方式

如有问题，请联系开发团队。

## 许可证

Copyright © 2026 Carbon System









